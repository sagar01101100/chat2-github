import os
css = '''
<style>
.chat-message {
    padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1rem; display: flex
}
.chat-message.user {
    background-color: #2b313e
}
.chat-message.bot {
    background-color: #475063
}
.chat-message .avatar {
  width: 20%;
}
.chat-message .avatar img {
  max-width: 78px;
  max-height: 78px;
  border-radius: 50%;
  object-fit: cover;
}
.chat-message .message {
  width: 100%;
  padding: 0 1.5rem;
  color: #fff;
}
'''
def get_bot_template(MSG):
    bot_template = f'''
    <div class="chat-message bot">
        <div class="avatar">
            <img src="data:image/png;base64,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">
        </div>
        <div class="message">{MSG}</div>
    </div>
    '''
    return bot_template

def get_user_template(MSG):
    if os.path.exists("image.txt"):
        with open("image.txt", "r") as f:
            img_src = f.read()
    else:
        img_src = "data:image/png;base64,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"
        
    user_template = f'''
    <div class="chat-message user">
        <div class="avatar">
            <img src="{img_src}" width="350" alt="Grab Vector Graphic Person Icon | imagebasket" /></a>
        </div>    
        <div class="message">{MSG}</div>
    </div>
    '''
    return user_template